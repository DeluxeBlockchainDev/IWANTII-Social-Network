(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{450:function(e,t,a){"use strict";a.r(t);var n=a(17),s=a(123),c=a.n(s),r=a(32),o=a(33),i=a(36),l=a(34),m=a(39),u=a(37),d=a(0),p=a.n(d),h=a(116),f=a(417),b=a(418),x=a(45),g=a(47),w=a(46),y=a(211),k=a.n(y),E=a(256),v=a(238),C=a(44),N=a(255),j=a(440),O=a(449),S=a(456),q=a(439),T=a(437),R=a(438),U=a(436),I=a(357),D=a(139),V=a(125);function _(e){var t=p.a.useState(!1),a=Object(N.a)(t,2),n=a[0],s=a[1],r=p.a.useState({name:"",email:""}),o=Object(N.a)(r,2),i=o[0],l=o[1],m=p.a.useState(""),u=Object(N.a)(m,2),d=u[0],h=u[1],f=e.visible,b=e.onClose,x=e.onSubmit,g=function(){s(!1),b()};p.a.useEffect(function(){s(f),l(Object(D.a)())},[f]);return p.a.createElement("div",null,p.a.createElement(S.a,{open:n,onClose:g,"aria-labelledby":"form-dialog-title"},p.a.createElement("form",{onSubmit:function(e){var t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),d===e.target.captcha.value?(t={name:e.target.name.value,email:e.target.email.value},Object(D.b)(JSON.stringify(t)),l(Object(D.a)()),x(),g()):Object(V.c)({success:!1,data:"Captcha mismatched!"});case 2:case"end":return a.stop()}})}},p.a.createElement(U.a,{id:"form-dialog-title"},"Welcome To Join Us"),p.a.createElement(T.a,null,p.a.createElement(R.a,null,"To send your request in this website, please enter your full name and email address here."),p.a.createElement(O.a,{margin:"normal",name:"name",label:"Full Name",type:"text",fullWidth:!0,required:!0,autoComplete:"off",defaultValue:i.name}),p.a.createElement(O.a,{margin:"dense",name:"email",label:"Email Address",type:"email",autoComplete:"off",fullWidth:!0,required:!0,defaultValue:i.email}),p.a.createElement(I.a,{captchaCode:function(e){return h(e)},width:400,height:60,fontSize:50,charsCount:6,chars:"abcdefghjkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",containerClassName:"captcha-container",captchaClassName:"captcha",backgroundColor:"transparent",fontColor:"#10d876",retry:!1}),p.a.createElement(O.a,{autoFocus:!0,margin:"dense",name:"captcha",label:"Captcha Code",type:"text",fullWidth:!0,autoComplete:"off",required:!0})),p.a.createElement(q.a,null,p.a.createElement(j.a,{onClick:g,className:"btn btn-default",color:"primary"},"Cancel"),p.a.createElement(j.a,{type:"submit",className:"btn btn-primary"},"Submit")))))}var L=a(38),P=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={dialogVisible:!1,likeType:L.o,current:{}},e.likeCountdown=e.likeCountdown.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"likeCountdown",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(V.a)());case 2:return e=a.sent,a.next=5,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(this.state.current._id).concat(this.state.likeType),"PUT",{user:e}));case 5:(t=a.sent).success&&this.props.onUpdated(),Object(V.c)(t);case 8:case"end":return a.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state.dialogVisible,a=this.props,n=a.countdowns,s=a.title;return p.a.createElement("div",{className:"card w-100 shadow-xss rounded-xxl mb-3"},p.a.createElement("div",{className:"card-body d-flex align-items-center p-4"},p.a.createElement("h4",{className:"fw-700 mb-0 font-xssss text-grey-900"},s)),n.map(function(t,a){return p.a.createElement("div",{className:"wrap",key:a},p.a.createElement("div",{className:"card-body d-flex pt-0 ps-4 pe-4 pb-0 bor-0"},p.a.createElement("h4",{className:"fw-700 text-grey-900 font-xssss mt-1 pointer",onClick:function(){C.a.push("/countdown/".concat(t._id))}},t.name," ")),p.a.createElement("div",{className:"card-body d-flex align-items-center pt-0 ps-4 pe-4 pb-4 text-right"},p.a.createElement(v.Link,{to:"#",onClick:function(a){a.preventDefault(),e.setState({likeType:L.o,dialogVisible:!0,current:t})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"Likes ",t.likes),p.a.createElement(v.Link,{to:"#",onClick:function(a){a.preventDefault(),e.setState({likeType:L.f,dialogVisible:!0,current:t})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Dislikes ",t.dislikes),p.a.createElement(v.Link,{to:"/countdown/".concat(t._id),className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-message-circle text-dark text-grey-900 btn-round-sm font-lg"}),"Comments ",t.comments)))}),p.a.createElement(_,{visible:t,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.likeCountdown}))}}]),t}(d.Component),G=a(115),W=a(136),M=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={reqeusts:[],title:"",dialogVisible:!1,likeType:L.o,current:{}},e.likeRequest=e.likeRequest.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({reqeusts:this.props.requests,title:this.props.title})}},{key:"likeRequest",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(V.a)());case 2:return e=a.sent,a.next=5,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(this.state.current._id).concat(this.state.likeType),"PUT",{user:e}));case 5:(t=a.sent).success&&this.props.onUpdated(),Object(V.c)(t);case 8:case"end":return a.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.reqeusts,n=t.title,s=t.dialogVisible;return p.a.createElement("div",{className:"card w-100 shadow-xss rounded-xxl mb-3"},p.a.createElement("div",{className:"card-body d-flex align-items-center p-4"},p.a.createElement("h4",{className:"fw-700 mb-0 font-xssss text-grey-900"},n)),a.map(function(t,a){return p.a.createElement("div",{className:"wrap",key:a},p.a.createElement("div",{className:"card-body d-flex pt-0 ps-4 pe-4 pb-0 bor-0"},p.a.createElement("h4",{className:"fw-700 text-grey-900 font-xssss mt-1"},t.user.name," ",p.a.createElement("span",{className:"d-block font-xssss fw-500 mt-1 lh-3 text-grey-500"},Object(W.a)(t.user.country),p.a.createElement("i",{className:"flag-icon flag-icon-".concat(t.user.country.toLocaleLowerCase())})))),p.a.createElement("div",{className:"card-body d-flex pt-0 ps-4 pe-4 pb-0 bor-0"},p.a.createElement("h4",{className:"fw-600 text-grey-900 font-xssss mt-1 fs-italic pl-1"},'" ',t.text,' "')),p.a.createElement("div",{className:"card-body d-flex align-items-center pt-0 ps-4 pe-4 pb-4 text-right"},p.a.createElement(G.a,{to:"#",onClick:function(a){a.preventDefault(),e.setState({likeType:L.o,dialogVisible:!0,current:t})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"LIkes ",t.likes),p.a.createElement(G.a,{to:"#",onClick:function(a){a.preventDefault(),e.setState({likeType:L.f,dialogVisible:!0,current:t})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Dislikes ",t.dislikes),p.a.createElement(G.a,{to:"/countdown/".concat(t.countdown),className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-message-circle text-dark text-grey-900 btn-round-sm font-lg"}),"Comments ",t.comments)))}),p.a.createElement(_,{visible:s,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.likeRequest}))}}]),t}(d.Component),A=a(452),F=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={reqeusts:[],title:"",page:1,pageSize:5,isDone:!1,showRequest:!1,dialogVisible:!1,likeType:L.o,currentUser:{}},e.toogleRequestVisible=e.toogleRequestVisible.bind(Object(m.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(m.a)(e)),e.likeUser=e.likeUser.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({reqeusts:this.props.requests,title:this.props.title})}},{key:"toogleRequestVisible",value:function(){this.setState({showRequest:!this.state.showRequest})}},{key:"handlePageChange",value:function(e,t){this.setState({page:t})}},{key:"likeUser",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(V.a)());case 2:return e=a.sent,a.next=5,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(this.state.currentUser._id).concat(this.state.likeType),"PUT",{user:e}));case 5:(t=a.sent).success&&this.props.onUpdated(),Object(V.c)(t);case 8:case"end":return a.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.reqeusts,n=t.title,s=t.showRequest,c=t.page,r=t.pageSize,o=t.dialogVisible,i=this.props.simpleMode;return p.a.createElement("div",{className:"card w-100 shadow-xss rounded-xxl mb-3"},p.a.createElement("div",{className:"card-body d-flex align-items-center p-4"},p.a.createElement("h4",{className:"fw-700 mb-0 font-xssss text-grey-900"},n),p.a.createElement(G.a,{to:"#",className:"fw-600 ms-auto font-xssss text-primary",onClick:this.toogleRequestVisible},s?"Hide Request":"Show Request")),a.slice((c-1)*r,c*r).map(function(t,a){return p.a.createElement("div",{className:"wrap",key:a},p.a.createElement("div",{className:"card-body d-flex pt-0 ps-4 pe-4 pb-0 bor-0"},p.a.createElement("h4",{className:"fw-700 text-grey-900 font-xssss mt-1"},t.user.name," ",p.a.createElement("span",{className:"d-block font-xssss fw-500 mt-1 lh-3 text-grey-500"},Object(W.a)(t.user.country),p.a.createElement("i",{className:"flag-icon flag-icon-".concat(t.user.country.toLocaleLowerCase())})))),p.a.createElement("div",{className:"card-body d-flex pt-0 ps-4 pe-4 pb-0 bor-0"},p.a.createElement("h4",{className:"fw-600 text-grey-900 font-xssss mt-1 fs-italic pl-1"},s?'" '.concat(t.text,' "'):"")),p.a.createElement("div",{className:i?"card-body d-flex align-items-center pt-0  pb-3 ps-4 text-right":"card-body d-flex align-items-center pt-0  ps-4 text-right pb-0"},p.a.createElement(G.a,{to:"#",className:"emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2",onClick:function(a){a.preventDefault(),e.setState({likeType:L.o,dialogVisible:!0,currentUser:t.user})}},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"Likes ",t.user.likes),p.a.createElement(G.a,{to:"#",className:"emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2",onClick:function(a){a.preventDefault(),e.setState({likeType:L.f,dialogVisible:!0,currentUser:t.user})}},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Dislikes ",t.user.dislikes),p.a.createElement(G.a,{to:"#",className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2",onClick:function(a){a.preventDefault(),e.props.onNewComment(t.user._id)}},p.a.createElement("i",{className:"feather-message-circle text-dark text-grey-900 btn-round-sm font-lg"}),"Comments ",t.user.comments),i?p.a.createElement(d.Fragment,null,p.a.createElement(G.a,{to:"#",className:"emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-copy text-dark text-grey-900 btn-round-sm font-xs"}),"Same Requests ",t.user.sameRequest),p.a.createElement(G.a,{to:"#",className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-link text-dark text-grey-900 btn-round-sm font-xs"}),"Same Links ",t.user.sameLinks)):""),i?"":p.a.createElement("div",{className:"card-body d-flex align-items-center pt-0 pb-3 text-right"},p.a.createElement(G.a,{to:"#",className:"emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-copy text-dark text-grey-900 btn-round-sm font-xs"}),"Same Requests ",t.user.sameRequest),p.a.createElement(G.a,{to:"#",className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-link text-dark text-grey-900 btn-round-sm font-xs"}),"Same Links ",t.user.sameLinks)))}),p.a.createElement("div",{className:"pagination-container"},p.a.createElement(A.a,{count:Math.ceil(a.length/r),page:c,color:"secondary",onChange:this.handlePageChange,showFirstButton:!0,showLastButton:!0})),p.a.createElement(_,{visible:o,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.likeUser}))}}]),t}(d.Component),Y=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={dialogVisible:!1,likeType:L.o,currentUser:{}},e.likeUser=e.likeUser.bind(Object(m.a)(e)),e.goCountdown=e.goCountdown.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"likeUser",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(V.a)());case 2:return e=a.sent,a.next=5,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(this.state.currentUser._id).concat(this.state.likeType),"PUT",{user:e}));case 5:(t=a.sent).success&&this.props.onUpdated(),Object(V.c)(t);case 8:case"end":return a.stop()}},null,this)}},{key:"goCountdown",value:function(e){var t,a;return c.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(Object(V.b)("".concat(L.u,"?").concat(L.s,"=").concat(e),"GET"));case 2:(t=n.sent).success&&t.data.length>0&&(a=t.data[0].countdown,C.a.push("/countdown/".concat(a)));case 4:case"end":return n.stop()}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.users,n=t.title,s=this.state.dialogVisible;return p.a.createElement("div",{className:"card w-100 shadow-xss rounded-xxl mb-3"},p.a.createElement("div",{className:"card-body d-flex align-items-center p-4"},p.a.createElement("h4",{className:"fw-700 mb-0 font-xssss text-grey-900"},n)),a.map(function(t,a){return p.a.createElement("div",{className:"wrap",key:a},p.a.createElement("div",{className:"card-body d-flex pt-0 ps-4 pe-4 pb-0 bor-0"},p.a.createElement("h4",{className:"fw-700 text-grey-900 font-xssss mt-1"},t.name," ",p.a.createElement("i",{className:"flag-icon flag-icon-".concat(t.country.toLocaleLowerCase())}),p.a.createElement("span",{className:"d-block font-xssss fw-500 mt-1 lh-3 text-grey-500"},Object(W.a)(t.country)))),p.a.createElement("div",{className:"card-body d-flex align-items-center pt-0 ps-4 pe-4 pb-4 text-right"},p.a.createElement(v.Link,{to:"#",className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2",onClick:function(a){a.preventDefault(),e.setState({likeType:L.o,dialogVisible:!0,currentUser:t})}},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"Likes ",t.likes),p.a.createElement(v.Link,{to:"#",onClick:function(a){a.preventDefault(),e.setState({likeType:L.f,dialogVisible:!0,currentUser:t})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Dislikes ",t.dislikes),p.a.createElement(v.Link,{to:"#",onClick:function(a){a.preventDefault(),e.goCountdown(t._id)},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-message-circle text-dark text-grey-900 btn-round-sm font-lg"}),"Comments ",t.comments)))}),p.a.createElement(_,{visible:s,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.likeUser}))}}]),t}(d.Component),B=a(239),z=a(250),H=a.n(z),J=a(451),K=a(441),Q=a(442),X=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={user:{name:""},request:{text:""},isDone:!1,show:!1,dialogVisible:!1,likeType:L.o,targetType:0},e.likeWinner=e.likeWinner.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.props.user&&this.props.request&&this.setState({isDone:this.props.isDone,request:this.props.request,user:this.props.user})}},{key:"likeWinner",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(V.a)());case 2:if(e=a.sent,t={},0!==this.state.targetType){a.next=11;break}return a.next=7,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(this.state.user._id).concat(this.state.likeType),"PUT",{user:e}));case 7:(t=a.sent).success&&(this.state.likeType===L.o?this.setState({user:Object(n.a)({},this.state.user,{likes:Number(this.state.user.likes)+1})}):this.setState({user:Object(n.a)({},this.state.user,{dislikes:Number(this.state.user.dislikes)+1})})),a.next=15;break;case 11:return a.next=13,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(this.state.request._id).concat(this.state.likeType),"PUT",{user:e}));case 13:(t=a.sent).success&&(this.state.likeType===L.o?this.setState({request:Object(n.a)({},this.state.request,{likes:Number(this.state.request.likes)+1})}):this.setState({request:Object(n.a)({},this.state.request,{dislikes:Number(this.state.request.dislikes)+1})}));case 15:Object(V.c)(t);case 16:case"end":return a.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isDone,s=t.user,c=t.request,r=t.dialogVisible,o=t.show;return p.a.createElement(p.a.Fragment,null,p.a.createElement("h1",{className:"fw-bold mb-0 ft-40 pt-4"},"undefined"===typeof s?"":s.name,s.country?p.a.createElement("span",{className:"d-block font-xssss fw-500 mt-1 lh-3 text-grey-500"},Object(W.a)(s.country),p.a.createElement("i",{className:"flag-icon flag-icon-".concat(s.country.toLocaleLowerCase())})):""),a?p.a.createElement("div",null,p.a.createElement("div",{className:"align-items-center pt-3"},p.a.createElement("ul",{className:"list-unstyled mb-0 ms-3"},p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.o,targetType:0,dialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"Winner Like ",s.likes)),p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.f,targetType:0,dialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Winner Dislike ",s.dislikes)),p.a.createElement("li",{className:"list-inline-item likes m-0"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.props.onNewUserComment(s._id)},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-message-circle text-dark text-grey-900 btn-round-xs font-xs"}),"Winner Comment ",s.comments)))),p.a.createElement("div",{className:"align-items-center pt-3"},p.a.createElement("ul",{className:"list-unstyled mb-0 ms-3"},p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(e){return e.preventDefault()},id:"sameRequest",className:"emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-copy text-dark text-grey-900 btn-round-sm font-xs"}),"Same Requests ",s.sameRequest),p.a.createElement(J.a,{trigger:"focus",placement:"bottom",target:"sameRequest"},p.a.createElement(K.a,null,"Request"),p.a.createElement(Q.a,null,"This Same Request Has Been Submitted ".concat(s.sameRequest," More Time")))),p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(e){return e.preventDefault()},id:"sameLink",className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-link text-dark text-grey-900 btn-round-sm font-xs"}),"Same Links ",s.sameLinks),p.a.createElement(J.a,{trigger:"focus",placement:"bottom",target:"sameLink"},p.a.createElement(K.a,null,"Link"),p.a.createElement(Q.a,null,"This Same Link Has Been Submitted ".concat(s.sameLinks," More Time"))))))):"",p.a.createElement("p",{className:"text-left text-center ft-20 pt-4"},'" ',"undefined"===typeof c?"":c.text,' "'),o&&p.a.createElement("div",{className:"mt-4 mb-4"},p.a.createElement(B.InlineShareButtons,{config:{alignment:"center",color:"social",enabled:!0,font_size:16,language:"en",networks:["whatsapp","linkedin","messenger","facebook","twitter"],padding:12,radius:25,show_total:!0,size:40,url:window.location.href,image:"https://bit.ly/2CMhCMC",description:"IWANTII",title:"IWANTII",message:"IWANTII",subject:"IWANTII",username:"IWANTII"}})),a?p.a.createElement("div",{className:"align-items-center pb-4"},p.a.createElement("ul",{className:"list-unstyled mb-0 ms-3"},p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.o,targetType:1,dialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"Request Like ",c.likes)),p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.f,targetType:1,dialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Request Dislike ",c.dislikes)),p.a.createElement("li",{className:"list-inline-item likes m-0"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.props.onNewRequestComment(c._id)},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-message-circle text-dark text-grey-900 btn-round-xs font-xs"}),"Request Comment ",c.comments)))):"",p.a.createElement(j.a,{onClick:function(){return e.setState(function(e){return Object(n.a)({},e,{show:!e.show})})},variant:"contained",style:{backgroundColor:"#95d03a",color:"#fff"},startIcon:p.a.createElement(H.a,null)},"Share"),p.a.createElement(_,{visible:r,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.likeWinner}))}}]),t}(d.Component),Z=a(444),$=a(445),ee=a(52),te=a(374),ae=a(443),ne=a(43),se=a.n(ne),ce=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={currentId:"",category:L.y,comment:{text:"pending",user:{name:"",country:"US"}},text:"",likeType:L.o,showReply:!1,dialogVisible:!1,likeDialogVisible:!1},e.saveComment=e.saveComment.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({comment:this.props.comments,category:this.props.category})}},{key:"saveComment",value:function(e,t){var n=this.props.onSave,s=this;a(145)({string:this.state.message,type:"part"},function(a,c){c.spam?se.a.error("Your comment is spam."):(n({name:Object(D.a)().name,email:Object(D.a)().email,category:s.state.category,parentId:e,id:t,message:s.state.text}),s.setState({text:"",showReply:!1}))})}},{key:"render",value:function(){var e=this,a=this.state,n=a.comment,s=a.text,c=a.showReply,r=a.dialogVisible,o=a.likeDialogVisible,i=a.category,l=a.currentId,m=a.likeType;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:""},n.text),p.a.createElement("div",{className:"d-flex justify-content-between"},p.a.createElement("div",{className:"d-flex align-items-center"},p.a.createElement("div",{className:"commentor-detail"},p.a.createElement("img",{alt:n.user.name,src:"https://ui-avatars.com/api/name=".concat(n.user.name.replaceAll(" ",""),"&background=random"),className:"img-avatar"}),n.user.name," ",p.a.createElement("i",{className:"m-0 flag-icon flag-icon-".concat(n.user.country.toLocaleLowerCase())}),p.a.createElement(G.a,{to:"#",className:"text-muted ms-3",onClick:function(t){t.preventDefault(),e.setState({showReply:!0})}},p.a.createElement("i",{className:"mdi mdi-reply"})," Reply")),p.a.createElement("div",{className:"d-flex align-items-center ms-3"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.o,currentId:n._id,likeDialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"Likes ",n.likes),p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.f,currentId:n._id,likeDialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Dislikes ",n.dislikes)))),c?p.a.createElement("div",{className:"ps-4 pt-2 pb-2 rounded relative"},p.a.createElement(O.a,{value:s,placeholder:"Type your reply here.",style:{width:"80%"},onChange:function(t){return e.setState({text:t.target.value})}}),s?p.a.createElement(ae.a,{type:"button",color:"primary",className:"ms-3",onClick:function(t){t.preventDefault(),e.setState({dialogVisible:!0})}},"Post"):p.a.createElement(ae.a,{type:"button",disabled:!0,color:"primary",className:"ms-3"},"Post"),p.a.createElement(ae.a,{type:"button",color:"secondary",onClick:function(){e.setState({showReply:!1})}},"Cancel")):"",n.reply&&n.reply.length>0?n.reply.map(function(a,n){return p.a.createElement("ul",{key:n,className:"list-unstyled ps-3 ms-md-4 sub-comment gray-border"},p.a.createElement("li",{key:n,className:"pt-2 text-dark"},p.a.createElement(t,{comments:a,category:e.state.category,onSave:e.props.onSave,onLike:e.props.onLike})))}):"",p.a.createElement(_,{visible:r,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:function(){switch(i){case L.d:e.saveComment(n._id,n.countdown);break;case L.y:e.saveComment(n._id,n.winner);break;default:e.saveComment(n._id,n.request)}}}),p.a.createElement(_,{visible:o,onClose:function(){e.setState({likeDialogVisible:!1})},onSubmit:function(){e.props.onLike(l,m)}}))}}]),t}(d.Component),re=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={countdowns:[],currentId:"",clickedNewComment:!1,text:"",dialogVisible:!1},e.newComment=e.newComment.bind(Object(m.a)(e)),e.likeComment=e.likeComment.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({countdowns:this.props.countdowns,currentId:this.props.id})}},{key:"newComment",value:function(){var e=this.props.onSave,t=this;a(145)({string:t.state.text,type:"part"},function(a,n){n.spam?se.a.error("Your comment is spam."):(e({name:Object(D.a)().name,email:Object(D.a)().email,category:L.d,parentId:null,id:t.state.currentId,message:t.state.text}),t.setState({text:"",clickedNewComment:!1}))})}},{key:"likeComment",value:function(e,t){var a,n;return c.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,c.a.awrap(Object(V.a)());case 2:return a=s.sent,s.next=5,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(this.state.currentId).concat(L.b,"/").concat(e).concat(t),"PUT",{user:a}));case 5:(n=s.sent).success&&this.props.onUpdated(),Object(V.c)(n);case 8:case"end":return s.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.countdowns,n=t.text,s=t.clickedNewComment,c=t.dialogVisible;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Z.a,{className:"border-0"},p.a.createElement($.a,{className:"p-2"},p.a.createElement(f.a,null,p.a.createElement(b.a,{md:6,sm:12},p.a.createElement("h5",{className:"card-title mb-0"}," Comments about Countdown")),p.a.createElement(b.a,{md:6,sm:12,className:"text-right"},p.a.createElement(G.a,{to:"#",className:"text-muted ms-3 ft-16",onClick:function(t){t.preventDefault(),e.setState({clickedNewComment:!0})}},p.a.createElement("i",{className:"mdi mdi-reply"}),"Your comment about countdown"))),s?p.a.createElement("div",{className:"ps-4 pt-2 pb-1 rounded relative"},p.a.createElement(O.a,{value:n,placeholder:"Type your comment about countdown here.",style:{width:"80%"},onChange:function(t){return e.setState({text:t.target.value})}}),n?p.a.createElement(ae.a,{type:"button",color:"primary",className:"ms-3",onClick:function(t){t.preventDefault(),e.setState({dialogVisible:!0})}},"Post"):p.a.createElement(ae.a,{type:"button",disabled:!0,color:"primary",className:"ms-3"},"Post"),p.a.createElement(ae.a,{type:"button",color:"secondary",onClick:function(){e.setState({clickedNewComment:!1})}},"Cancel")):"",p.a.createElement("ul",{className:"media-list list-unstyled mb-0"},a.length>0?a.map(function(t,a){return p.a.createElement("li",{key:a,className:"mt-3"},p.a.createElement("ul",{className:"list-unstyled ps-4 sub-comment"},t.comments.map(function(t,a){return p.a.createElement("li",{key:a,className:"mt-2 ft-16 text-dark"},p.a.createElement(ce,{comments:t,category:L.d,onSave:e.props.onSave,onLike:e.likeComment}))})))}):""))),p.a.createElement(_,{visible:c,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.newComment}))}}]),t}(d.Component),oe=a(457);function ie(e){var t=p.a.useState(!1),a=Object(N.a)(t,2),n=a[0],s=a[1],r=p.a.useState([]),o=Object(N.a)(r,2),i=o[0],l=o[1],m=p.a.useState(""),u=Object(N.a)(m,2),d=u[0],h=u[1],f=p.a.useState("Request"),b=Object(N.a)(f,2),x=b[0],g=b[1],w=e.visible,y=e.data,k=e.selected,E=e.type,v=e.onClose,C=e.onSubmit,R=function(){s(!1),v()};p.a.useEffect(function(){s(w),l(y),h(k),g(E)},[w,y,k,E]);return p.a.createElement("div",null,p.a.createElement(S.a,{open:n,fullWidth:!0,onClose:R,"aria-labelledby":"form-dialog-title"},p.a.createElement("form",{onSubmit:function(e){return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),C(d);case 2:case"end":return t.stop()}})}},p.a.createElement(U.a,{id:"form-dialog-title"},"Choose ".concat(x," To Leave Your Comment")),p.a.createElement(T.a,null,"Request"===E?p.a.createElement(oe.a,{fullWidth:!0,options:i,defaultValue:i.find(function(e){return e._id===d}),getOptionLabel:function(e){return e.text},onChange:function(e,t){t&&h(t._id)},renderInput:function(e){return p.a.createElement(O.a,Object.assign({fullWidth:!0},e,{variant:"outlined",margin:"dense",required:!0}))}}):p.a.createElement(oe.a,{fullWidth:!0,options:i,defaultValue:i.find(function(e){return e.user._id===d}),getOptionLabel:function(e){return e.user.name},onChange:function(e,t){t&&h(t.user._id)},renderInput:function(e){return p.a.createElement(O.a,Object.assign({fullWidth:!0},e,{variant:"outlined",margin:"dense",required:!0}))}})),p.a.createElement(q.a,null,p.a.createElement(j.a,{onClick:R,className:"btn btn-default",color:"primary"},"Cancel"),p.a.createElement(j.a,{type:"submit",className:"btn btn-primary"},"OK")))))}var le=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={comments:[],requests:[],currentId:"",commentId:"",clickedNewComment:!1,text:"",dialogVisible:!1,selectDialogVisible:!1,showRequest:!1},e.newComment=e.newComment.bind(Object(m.a)(e)),e.likeComment=e.likeComment.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({comments:this.props.comments,requests:this.props.requests,currentId:this.props.id})}},{key:"newComment",value:function(){var e=this.props.onSave,t=this;a(145)({string:t.state.text,type:"part"},function(a,n){n.spam?se.a.error("Your comment is spam."):(e({name:Object(D.a)().name,email:Object(D.a)().email,category:L.u,parentId:null,id:t.state.currentId,message:t.state.text}),t.setState({text:"",clickedNewComment:!1}))})}},{key:"likeComment",value:function(e,t,a){var n,s;return c.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(Object(V.a)());case 2:return n=r.sent,r.next=5,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(e).concat(L.b,"/").concat(t).concat(a),"PUT",{user:n}));case 5:(s=r.sent).success&&this.props.onUpdated(),Object(V.c)(s);case 8:case"end":return r.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.comments,n=t.requests,s=t.currentId,c=t.text,r=t.clickedNewComment,o=t.selectDialogVisible,i=t.dialogVisible,l=t.showRequest;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Z.a,{className:"border-0 mt-4"},p.a.createElement($.a,{className:"p-2"},p.a.createElement(f.a,null,p.a.createElement(b.a,{md:4,sm:12},p.a.createElement("h5",{className:"card-title"}," Comments about Requests ")),a.length>0?p.a.createElement(b.a,{md:4,sm:12,className:"text-right"},l?p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({showRequest:!e.state.showRequest})},className:"text-muted ms-3 ft-16"},p.a.createElement("i",{className:"mdi mdi-eye"})," Hide Requests"):p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({showRequest:!e.state.showRequest})},className:"text-muted ms-3 ft-16"},p.a.createElement("i",{className:"mdi mdi-eye"})," Show Requests")):p.a.createElement(b.a,{md:4,sm:12,className:"text-right"},p.a.createElement(f.a,null)),p.a.createElement(b.a,{md:4,sm:12,className:"text-right"},p.a.createElement(G.a,{to:"#",className:"text-muted ms-3 ft-16",onClick:function(t){t.preventDefault(),e.setState({selectDialogVisible:!0})}},p.a.createElement("i",{className:"mdi mdi-reply"}),"Your comment about requests"))),r?p.a.createElement("div",{className:"ps-4 pt-2 pb-1 rounded relative"},p.a.createElement(O.a,{value:c,placeholder:"Type your comment about requests here.",style:{width:"80%"},onChange:function(t){return e.setState({text:t.target.value})}}),c?p.a.createElement(ae.a,{type:"button",color:"primary",className:"ms-3",onClick:function(t){t.preventDefault(),e.setState({dialogVisible:!0})}},"Post"):p.a.createElement(ae.a,{type:"button",disabled:!0,color:"primary",className:"ms-3"},"Post"),p.a.createElement(ae.a,{type:"button",color:"secondary",onClick:function(){e.setState({clickedNewComment:!1})}},"Cancel")):"",p.a.createElement("ul",{className:"media-list list-unstyled mb-0"},a.length>0?a.map(function(t,a){return p.a.createElement("li",{key:a,className:"mt-2 text-dark"},l?p.a.createElement("div",{className:"mt-2 ps-4"},p.a.createElement("p",{className:"text-muted fst-italic p-1 bg-light rounded"},'" ',t.request.text,' "')):"",p.a.createElement("ul",{className:"list-unstyled ps-4 ms-md-4 sub-comment"},t.comments.map(function(a,n){return p.a.createElement("li",{key:n,className:"mt-2 text-dark"},p.a.createElement(ce,{comments:a,category:L.u,onSave:e.props.onSave,onLike:function(a,n){e.likeComment(t.request._id,a,n)}}))})))}):""))),p.a.createElement(_,{visible:i,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.newComment}),p.a.createElement(ie,{visible:o,data:n,selected:s,type:"Request",onClose:function(){e.setState({selectDialogVisible:!1})},onSubmit:function(t){e.setState({currentId:t,selectDialogVisible:!1,clickedNewComment:!0})}}))}}]),t}(d.Component),me=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={comments:[],requests:[],currentId:"",clickedNewComment:!1,text:"",dialogVisible:!1,selectDialogVisible:!1,showRequest:!1},e.newComment=e.newComment.bind(Object(m.a)(e)),e.likeComment=e.likeComment.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({comments:this.props.comments,requests:this.props.requests,currentId:this.props.id})}},{key:"newComment",value:function(){var e=this.props.onSave,t=this;a(145)({string:t.state.text,type:"part"},function(a,n){n.spam?se.a.error("Your comment is spam."):(e({name:Object(D.a)().name,email:Object(D.a)().email,category:L.y,parentId:null,id:t.state.currentId,message:t.state.text}),t.setState({text:"",clickedNewComment:!1}))})}},{key:"likeComment",value:function(e,t,a){var n,s;return c.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(Object(V.a)());case 2:return n=r.sent,r.next=5,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e).concat(L.b,"/").concat(t).concat(a),"PUT",{user:n}));case 5:(s=r.sent).success&&this.props.onUpdated(),Object(V.c)(s);case 8:case"end":return r.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.comments,n=t.requests,s=t.currentId,c=t.text,r=t.clickedNewComment,o=t.selectDialogVisible,i=t.dialogVisible;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Z.a,{className:"border-0 mt-4"},p.a.createElement($.a,{className:"p-2"},p.a.createElement(f.a,null,p.a.createElement(b.a,{md:6,sm:12},p.a.createElement("h5",{className:"card-title"}," Comments about Users ")),p.a.createElement(b.a,{md:6,sm:12,className:"text-right"},p.a.createElement(G.a,{to:"#",className:"text-muted ms-3 ft-16",onClick:function(t){t.preventDefault(),e.setState({selectDialogVisible:!0})}},p.a.createElement("i",{className:"mdi mdi-reply"}),"Your comment about users"))),r?p.a.createElement("div",{className:"ps-4 pt-2 pb-1 rounded relative"},p.a.createElement(O.a,{value:c,placeholder:"Type your comment about requests here.",style:{width:"80%"},onChange:function(t){return e.setState({text:t.target.value})}}),c?p.a.createElement(ae.a,{type:"button",color:"primary",className:"ms-3",onClick:function(t){t.preventDefault(),e.setState({dialogVisible:!0})}},"Post"):p.a.createElement(ae.a,{type:"button",disabled:!0,color:"primary",className:"ms-3"},"Post"),p.a.createElement(ae.a,{type:"button",color:"secondary",onClick:function(){e.setState({clickedNewComment:!1})}},"Cancel")):"",p.a.createElement("ul",{className:"media-list list-unstyled mb-0"},a.length>0?a.map(function(t,a){return p.a.createElement("li",{key:a,className:"mt-2 text-dark"},p.a.createElement("div",{className:"d-flex align-items-center"},p.a.createElement("div",{className:"commentor-detail"},p.a.createElement("h6",{className:"mb-0"},p.a.createElement(G.a,{to:"#",className:"text-dark media-heading  card-username"},t.user.name,p.a.createElement("i",{className:"flag-icon flag-icon-".concat(t.user.country.toLocaleLowerCase())}))))),p.a.createElement("ul",{className:"list-unstyled ps-4 ms-md-4 sub-comment"},t.comments.map(function(a,n){return p.a.createElement("li",{key:n,className:"mt-2 text-dark"},p.a.createElement(ce,{comments:a,category:L.y,onSave:e.props.onSave,onLike:function(a,n){e.likeComment(t.user._id,a,n)}}))})))}):""))),p.a.createElement(_,{visible:i,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.newComment}),p.a.createElement(ie,{visible:o,data:n,selected:s,type:"Users",onClose:function(){e.setState({selectDialogVisible:!1})},onSubmit:function(t){e.setState({currentId:t,selectDialogVisible:!1,clickedNewComment:!0})}}))}}]),t}(d.Component),ue=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={countdownComments:[],userComments:[],requestComments:[],requests:[],disqusShow:!1,facebookShow:!1,currentCountdownId:"",showRequest:!1,winner:{_id:"",name:""},winnerRequest:{_id:"",text:""}},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({countdownComments:this.props.countdownComments,userComments:this.props.userComments,requestComments:this.props.requestComments,requests:this.props.requests,currentCountdownId:this.props.id,winner:this.props.winner,winnerRequest:this.props.winnerRequest})}},{key:"render",value:function(){var e=this.state,t=e.countdownComments,a=e.requestComments,n=e.requests,s=e.userComments,c=e.winner,r=e.winnerRequest,o=e.currentCountdownId;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Z.a,{className:"border-0"},p.a.createElement($.a,{className:"p-2"},p.a.createElement(re,{countdowns:t,id:o,onSave:this.props.onSave,onUpdated:this.props.onUpdated}),p.a.createElement(me,{comments:s,requests:n,id:c._id,onSave:this.props.onSave,onUpdated:this.props.onUpdated}),p.a.createElement(le,{comments:a,requests:n,id:r._id,onSave:this.props.onSave,onUpdated:this.props.onUpdated}))))}}]),t}(d.Component),de=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={countdownComments:[],userComments:[],requestComments:[],winner:{_id:"",name:""},winnerRequest:{_id:"",text:""},listTitle:"",dialogVisible:!1,message:"",currentCountdownId:"",commentType:L.d,requests:[],disqusShow:!1,facebookShow:!1},e.handleSubmit=e.handleSubmit.bind(Object(m.a)(e)),e.saveComment=e.saveComment.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({dialogVisible:!0})}},{key:"saveComment",value:function(){var e=this.props.onSave,t=this;a(145)({string:this.state.message,type:"part"},function(a,n){n.spam?se.a.error("Your comment is spam."):(e({name:Object(D.a)().name,email:Object(D.a)().email,message:t.state.message}),t.setState({message:""}))})}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({countdownComments:this.props.countdownComments,userComments:this.props.userComments,requestComments:this.props.requestComments,requests:this.props.requests,currentCountdownId:this.props.id,commentType:this.props.type,winner:this.props.winner,winnerRequest:this.props.winnerRequest})}},{key:"render",value:function(){var e=this,t=this.state,a=t.countdownComments,s=t.userComments,c=t.requestComments,r=t.requests,o=t.winner,i=t.winnerRequest,l=t.currentCountdownId,m=t.disqusShow,u=t.facebookShow;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"section text-left"},p.a.createElement(Z.a,{className:"border-0 mt-3"},p.a.createElement($.a,null,p.a.createElement(f.a,null,p.a.createElement(b.a,{md:"6",style:{display:"flex",alignItems:"center"}},p.a.createElement("h4",{className:"card-title mb-0 text-success ft-25"},"Comments")),p.a.createElement(b.a,{md:"6"},p.a.createElement(f.a,{className:"align-items-center"},p.a.createElement(b.a,{md:"12",style:{display:"flex",color:"#000"}},p.a.createElement("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",color:"#2e9fff"},onClick:function(){return e.setState(function(e){return Object(n.a)({},e,{facebookShow:!e.facebookShow})})}},p.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/free-social-icons/67/facebook_circle_color-512.svg",alt:"Facebook icon",style:{width:"40px",height:"40px",marginRight:"7px"}}),l&&p.a.createElement(ee.CommentsCount,{href:L.l+"/".concat(l)}),p.a.createElement("span",{style:{marginLeft:"5px"}},"Comments")),p.a.createElement("div",{style:{cursor:"pointer",color:"#2e9fff"},onClick:function(){return e.setState(function(e){return Object(n.a)({},e,{disqusShow:!e.disqusShow})})}},p.a.createElement("img",{src:"https://c.disquscdn.com/next/4e2f508/marketing/assets/img/brand/disqus-social-icon-blue-white.svg",alt:"Disqus icon",style:{width:"50px",height:"50px",position:"relative",marginLeft:"7px"}}),p.a.createElement(te.CommentCount,{shortname:L.i,config:{url:"",identifier:""!==l?l:L.g,title:L.j}})))))),m&&p.a.createElement(f.a,null,p.a.createElement(b.a,{className:"pt-2 pb-2"},p.a.createElement(te.DiscussionEmbed,{shortname:L.i,config:{url:"",identifier:""!==l?l:L.g,title:L.j,language:L.h}}))),u&&p.a.createElement(f.a,null,p.a.createElement(b.a,{className:"pt-2 pb-2"},p.a.createElement(ee.Comments,{href:L.l+"/".concat(l)}))),p.a.createElement(ue,{countdownComments:a,userComments:s,requests:r,requestComments:c,winner:o,winnerRequest:i,id:l,onSave:this.props.onSave,onUpdated:this.props.onUpdated})))))}}]),t}(d.Component),pe=a(22),he=function(e){return{type:pe.b,payload:e}},fe=a(178),be=a(381),xe=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={show:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.show;return p.a.createElement(p.a.Fragment,null,t&&p.a.createElement("div",{className:"mt-4 mb-4"},p.a.createElement(B.InlineShareButtons,{config:{alignment:"center",color:"social",enabled:!0,font_size:16,language:"en",networks:["whatsapp","linkedin","messenger","facebook","twitter"],padding:12,radius:25,show_total:!0,size:40,url:window.location.href,image:"https://bit.ly/2CMhCMC",description:"IWANTII",title:"IWANTII",message:"IWANTII",subject:"IWANTII",username:"IWANTII"}})),p.a.createElement(j.a,{onClick:function(){return e.setState(function(e){return Object(n.a)({},e,{show:!e.show})})},variant:"contained",className:"mt-4",style:{backgroundColor:"#95d03a",color:"#fff"},startIcon:p.a.createElement(H.a,null)},"Share"))}}]),t}(d.Component),ge=function(e){var t=e.hours,a=e.minutes,n=e.seconds;e.completed;return p.a.createElement(p.a.Fragment,null,p.a.createElement("ul",{className:"count-down list-unstyled"},p.a.createElement("li",{id:"hours",className:"count-number list-inline-item m-2 bg-grey"},Object(be.b)(t),p.a.createElement("p",{className:"count-head"},"Hours")),p.a.createElement("li",{id:"mins",className:"count-number list-inline-item m-2 bg-grey"},Object(be.b)(a),p.a.createElement("p",{className:"count-head"},"Minutes")),p.a.createElement("li",{id:"secs",className:"count-number list-inline-item m-2 bg-grey"},Object(be.b)(n),p.a.createElement("p",{className:"count-head"},"Seconds")),p.a.createElement("li",{id:"end",className:"h1"})))},we=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={countdown:{},currentTime:0,requests:[],dialogVisible:!1,likeType:L.o,show:!1,isPending:!1,pendingText:""},e.likeCountdown=e.likeCountdown.bind(Object(m.a)(e)),e.getPendingText=e.getPendingText.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getPendingText()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({countdown:this.props.countdown,currentTime:this.props.currentTime,requests:this.props.requests,isPending:this.props.pending})}},{key:"likeCountdown",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(V.a)());case 2:return e=a.sent,a.next=5,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(this.state.countdown._id).concat(this.state.likeType),"PUT",{user:e}));case 5:(t=a.sent).success&&this.props.onUpdated(this.state.countdown._id),Object(V.c)(t);case 8:case"end":return a.stop()}},null,this)}},{key:"getPendingText",value:function(){var e;return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(Object(V.b)("".concat(L.w).concat(L.c),"GET"));case 2:(e=t.sent).success&&this.setState({pendingText:"The Countdown Starts When It Reaches ".concat(e.data.minUsers," Requests Or More.")});case 4:case"end":return t.stop()}},null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.countdown,n=t.currentTime,s=t.requests,c=t.dialogVisible,r=t.isPending,o=t.pendingText;return p.a.createElement(f.a,{className:"shadow-xss rounded-xxl card p-4"},p.a.createElement(b.a,{md:12,className:"text-center"},p.a.createElement("h4",{className:"text-success mb-0 ft-25 fw-600"},a.name),p.a.createElement("div",{className:"font-lg fw-600 text-danger"},p.a.createElement("i",{className:"feather-users me-2 fw-600 btn-round-lg"}),s.length),r?p.a.createElement("span",{className:"text-warning font-xm m-auto menu-icon"},o):"",p.a.createElement("div",{id:"main-countdown",className:"text-center position-relative"},p.a.createElement(be.a,{date:1e3*n,renderer:ge,controlled:!0})),p.a.createElement("div",{className:"align-items-center"},p.a.createElement("ul",{className:"list-unstyled mb-0 ms-3"},p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.o,dialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"}),"Countdown Likes ",a.likes)),p.a.createElement("li",{className:"list-inline-item likes"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.setState({likeType:L.f,dialogVisible:!0})},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-thumbs-down text-white bg-red-gradiant me-2 btn-round-xs font-xss"}),"Countdown Dislikes ",a.dislikes)),p.a.createElement("li",{className:"list-inline-item likes m-0"},p.a.createElement(G.a,{to:"#",onClick:function(t){t.preventDefault(),e.props.onNewComment(a._id)},className:"emoji-bttn pointer d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2"},p.a.createElement("i",{className:"feather-message-circle text-dark text-grey-900 btn-round-xs font-xs"}),"Countdown Comments ",a.comments)))),r?p.a.createElement(xe,null):""),p.a.createElement(_,{visible:c,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.likeCountdown}))}}]),t}(d.Component),ye=a(455),ke=a(383),Ee=a.n(ke),ve=a(253),Ce=a.n(ve),Ne=k()(L.x),je=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).sendRequest=function(){var t,a,n,s,r,o;return c.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.awrap(Object(V.a)());case 2:return t=i.sent,i.next=5,c.a.awrap(Object(W.b)());case 5:return a=i.sent,n="127.0.0.1",a.success&&(n=a.data.query),s="",i.next=11,c.a.awrap(Object(V.b)("".concat(L.d).concat(L.e),"GET"));case 11:return(r=i.sent).success&&(s=r.data._id),i.next=15,c.a.awrap(Object(V.b)("".concat(L.u),"POST",{user:t,text:e.state.request,countdown:s,ip:n}));case 15:o=i.sent,e.setState({liveCountdown:s}),o.success?(x.NotificationManager.success("Your request has been successfully sent."),e.setState({showAlert:!0})):x.NotificationManager.error(o.data);case 18:case"end":return i.stop()}})},e.state={request:"",config:{minUsers:100,requestLength:150,bans:[]},dialogVisible:!1,pendingText:"",liveCountdown:"",showAlert:!1},e.sendRequest=e.sendRequest.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchConfig(),this.connectSocket()}},{key:"connectSocket",value:function(){var e=this;Ne.on("pending_countdown",function(t){var a,n;return c.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e.setState({pendingText:"The countdown will be get started ".concat(Ce.a.duration(t,"seconds").minutes()," minutes ").concat(Ce.a.duration(t,"seconds").seconds()," seconds later."),showAlert:!0}),0!==t){s.next=9;break}return e.setState({showAlert:!1}),a="",s.next=6,c.a.awrap(Object(V.b)("".concat(L.d).concat(L.e),"GET"));case 6:(n=s.sent).success&&(a=n.data._id),C.a.push("/countdown/".concat(a));case 9:case"end":return s.stop()}})})}},{key:"fetchConfig",value:function(){var e;return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(Object(V.b)("".concat(L.w).concat(L.c),"GET"));case 2:(e=t.sent).success&&(this.setState({config:{minUsers:e.data.minUsers,requestLength:e.data.requestLength,bans:e.data.bans.split(",")}}),this.showCaptcha=this.showCaptcha.bind(this));case 4:case"end":return t.stop()}},null,this)}},{key:"getRequestText",value:function(e){var t=this;this.state.config.bans.forEach(function(a){-1===e.target.value.indexOf(a)?t.setState({request:e.target.value}):(x.NotificationManager.error('The word "'.concat(a,'" is forbidden.')),e.target.value=e.target.value.replaceAll(a,"")),e.target.value.length>t.state.config.requestLength&&(x.NotificationManager.error("The max length of a request is ".concat(t.state.config.requestLength,".")),e.target.value=e.target.value.slice(t.state.config.requestLength))})}},{key:"showCaptcha",value:function(){if(""!==this.state.request){var e=a(145),t={string:this.state.request,type:"part"},n=this;e(t,function(e,t){t.spam?x.NotificationManager.error("Your request is spam."):n.setState({dialogVisible:!0})})}else x.NotificationManager.error("Please input your reqeust.")}},{key:"render",value:function(){var e=this,t=this.state,a=t.dialogVisible,n=t.showAlert,s=t.pendingText;return p.a.createElement(d.Fragment,null,p.a.createElement("div",{className:"w__100 mb-3"},p.a.createElement("div",{className:"row rounded-xxl white-border form-group mb-0 icon-input"},p.a.createElement("i",{className:"feather-message-circle font-sm text-grey-400 left-0"}),p.a.createElement("textarea",{autoFocus:!0,type:"text",name:"request",rows:7,onChange:function(t){e.getRequestText(t)},max:this.state.config.requestLength,required:!0,autoComplete:"off",placeholder:"Write your request here to join the countdown.",className:"shadow-xss border-0 lh-32 pt-2 pb-2 ps-5 pe-3 font-xs fw-500 rounded-xxl full-width theme-dark-bg"}),p.a.createElement("div",{className:"btn-send-container text-right"},p.a.createElement(G.a,{to:"#",onClick:this.showCaptcha,className:"p-2 text-center ms-0 menu-icon center-menu-icon"},p.a.createElement(Ee.a,{className:"btn-send font-xxl bg-success btn-send-lg text-white theme-dark-bg"}))))),n?p.a.createElement("div",{className:"row pb-3"},p.a.createElement(ye.a,{security:"info",onClose:function(){e.setState({showAlert:!1})}},s)):"",p.a.createElement(_,{visible:a,onClose:function(){e.setState({dialogVisible:!1})},onSubmit:this.sendRequest}))}}]),t}(d.Component),Oe=Object(h.withRouter)(je),Se=k()(L.x),qe=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).state={countdown:{},comments:[],commentType:L.d,origin:{ip:"127.0.0.1",country:"US"},selectedId:"",worstRequests:[],topRequests:[],topUsers:[],requests:[],topCountdowns:[],winner:{_id:"",name:"PENDING"},winnerRequest:{_id:"",text:""},inProgress:!1,currentTime:0,simpleMode:!0,pendingStatus:!0,countdownComments:[],requestComments:[],userComments:[]},e.commentboxRef=p.a.createRef(),e.countdownRef=p.a.createRef(),e.saveComments=e.saveComments.bind(Object(m.a)(e)),e.connectSocket=e.connectSocket.bind(Object(m.a)(e)),e.fetchCurrentCountdown=e.fetchCurrentCountdown.bind(Object(m.a)(e)),e.fetchLiveUsers=e.fetchLiveUsers.bind(Object(m.a)(e)),e.fetchTopCountdowns=e.fetchTopCountdowns.bind(Object(m.a)(e)),e.fetchTopUsers=e.fetchTopUsers.bind(Object(m.a)(e)),e.fetchComments=e.fetchComments.bind(Object(m.a)(e)),e.refreshTopRequests=e.refreshTopRequests.bind(Object(m.a)(e)),e.refreshWorstRequests=e.refreshWorstRequests.bind(Object(m.a)(e)),e.newReqeustComment=e.newReqeustComment.bind(Object(m.a)(e)),e.newUserComment=e.newUserComment.bind(Object(m.a)(e)),e.newCountdownComment=e.newCountdownComment.bind(Object(m.a)(e)),e.updateWinnerComments=e.updateWinnerComments.bind(Object(m.a)(e)),e.updateCountdownComments=e.updateCountdownComments.bind(Object(m.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e.isSimpleMode!==this.props.isSimpleMode&&(this.setState({simpleMode:this.props.isSimpleMode}),this.fetchTopUsers())}},{key:"componentDidMount",value:function(){var e=this;return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.connectSocket(),this.setUserIPAndCountry(),this.setSEO(),t.t0=this,t.next=6,c.a.awrap(this.fetchReqeusts(L.t));case 6:return t.t1=t.sent,t.next=9,c.a.awrap(this.fetchReqeusts(L.r));case 9:t.t2=t.sent,t.t3={worstRequests:t.t1,topRequests:t.t2},t.t0.setState.call(t.t0,t.t3),this.fetchTopUsers(),this.fetchTopCountdowns(),this.fetchCurrentCountdown(this.props.match.params.id),C.a.listen(function(t,a){var n=t.pathname.split("/"),s=n[n.length-1];"countdown"===n[n.length-2]&&e.fetchCurrentCountdown(s)});case 16:case"end":return t.stop()}},null,this)}},{key:"connectSocket",value:function(){var e=this;Se.on("start_countdown",function(){return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({pendingStatus:!1,inProgress:!0}),e.props.setPendingStatus(!1);case 2:case"end":return t.stop()}})}),Se.on("new_request",function(){return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:e.countdownRef.current.scrollIntoView({behavior:"smooth"}),e.fetchLiveUsers();case 2:case"end":return t.stop()}})}),Se.on("switch_winner",function(t){e.props.match.params.id===t.request.countdown&&(e.setState({winner:t.user,winnerRequest:t.request,currentTime:t.time,inProgress:!0,pendingStatus:!1}),e.props.setPendingStatus(!1))}),Se.on("end_countdown",function(t){e.props.match.params.id===t.request.countdown&&(e.setState({winner:t.user,winnerRequest:t.request,currentTime:t.time,inProgress:!1}),e.fetchCurrentCountdown(e.props.match.params.id))})}},{key:"setUserIPAndCountry",value:function(){var e;return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(Object(W.b)());case 2:(e=t.sent).success&&this.setState({origin:{ip:e.data.query,country:e.data.country}});case 4:case"end":return t.stop()}},null,this)}},{key:"setConfiguration",value:function(){var e;return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(Object(V.b)("".concat(L.w).concat(L.c),"GET"));case 2:(e=t.sent).success&&this.setState({winnerRequest:{text:"The countdown will get started when the number of live users reaches ".concat(e.data.minUsers," and more.")},currentTime:60*e.data.duration});case 4:case"end":return t.stop()}},null,this)}},{key:"setSEO",value:function(){var e;return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(Object(V.b)("".concat(L.w).concat(L.v),"GET"));case 2:(e=t.sent).success&&(document.getElementsByTagName("title")[0].innerHTML=e.data.title,document.getElementsByName("keywords")[0].content=e.data.keywords,document.getElementsByName("description")[0].content=e.data.description);case 4:case"end":return t.stop()}})}},{key:"fetchCurrentCountdown",value:function(e){var t,a,s,r,o,i;return c.a.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(e),"GET"));case 2:if(!(t=l.sent).success){l.next=55;break}return this.setState({selectedId:t.data._id,commentType:L.d}),a=t.data,l.t0=n.a,l.t1={},l.t2=a,l.next=11,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(a._id).concat(L.b,"?").concat(L.p),"GET"));case 11:if(l.t3=l.sent.data,l.t4={comments:l.t3},a=(0,l.t0)(l.t1,l.t2,l.t4),this.setState({countdown:a}),this.fetchComments(),"undefined"!==typeof t.data.winner){l.next=22;break}this.setConfiguration(),this.setState({pendingStatus:!0,inProgress:!1}),this.props.setPendingStatus(!0),l.next=52;break;case 22:return this.setState({currentTime:0}),l.next=25,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(t.data.winner),"GET"));case 25:if(!(s=l.sent).success){l.next=52;break}return r=s.data,l.t5=n.a,l.t6={},l.t7=r,l.next=33,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(s.data._id).concat(L.b,"?").concat(L.p),"GET"));case 33:return l.t8=l.sent.data,l.t9={comments:l.t8},r=(0,l.t5)(l.t6,l.t7,l.t9),l.next=38,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(t.data.request),"GET"));case 38:if(o=l.sent,i={text:""},!o.success){l.next=50;break}return i=o.data,l.t10=n.a,l.t11={},l.t12=i,l.next=47,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(o.data._id).concat(L.b,"?").concat(L.p),"GET"));case 47:l.t13=l.sent.data,l.t14={comments:l.t13},i=(0,l.t10)(l.t11,l.t12,l.t14);case 50:this.setState({winnerRequest:i,winner:r,inProgress:!1,pendingStatus:!1}),this.props.setPendingStatus(!1);case 52:this.fetchLiveUsers(),l.next=56;break;case 55:C.a.push("/404");case 56:case"end":return l.stop()}},null,this)}},{key:"fetchTopCountdowns",value:function(){var e,t,a,s;return c.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(Object(V.b)("".concat(L.d,"?").concat(L.r),"GET"));case 2:if(!(e=r.sent).success){r.next=20;break}t=[],a=0;case 6:if(!(a<e.data.length)){r.next=19;break}return r.t0=n.a,r.t1={},r.t2=e.data[a],r.next=12,c.a.awrap(this.getTotalCommentsCount(e.data[a]._id));case 12:r.t3=r.sent,r.t4={comments:r.t3},s=(0,r.t0)(r.t1,r.t2,r.t4),t.push(s);case 16:a++,r.next=6;break;case 19:this.setState({topCountdowns:t});case 20:case"end":return r.stop()}},null,this)}},{key:"getTotalCommentsCount",value:function(e){var t,a,n,s,r,o,i;return c.a.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(e).concat(L.b),"GET"));case 2:return t=l.sent,a=0,t.success&&(a+=Number(t.data.length)),l.next=7,c.a.awrap(Object(V.b)("".concat(L.u,"?").concat(L.q,"=").concat(e),"GET"));case 7:if(!(n=l.sent).success){l.next=18;break}s=0;case 10:if(!(s<n.data.length)){l.next=18;break}return l.next=13,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(n.data[s].user).concat(L.b),"GET"));case 13:(r=l.sent).success&&(a+=r.data.length);case 15:s++,l.next=10;break;case 18:return l.next=20,c.a.awrap(Object(V.b)("".concat(L.u,"?").concat(L.q,"=").concat(e),"GET"));case 20:if(!(n=l.sent).success){l.next=31;break}o=0;case 23:if(!(o<n.data.length)){l.next=31;break}return l.next=26,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(n.data[o]._id).concat(L.b),"GET"));case 26:(i=l.sent).success&&(a+=i.data.length);case 28:o++,l.next=23;break;case 31:return l.abrupt("return",a);case 32:case"end":return l.stop()}})}},{key:"fetchTopUsers",value:function(){var e,t,a,s;return c.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(Object(V.b)("".concat(L.y,"?").concat(L.r),"GET"));case 2:if(!(e=r.sent).success){r.next=20;break}t=[],a=0;case 6:if(!(a<e.data.length)){r.next=19;break}return r.t0=n.a,r.t1={},r.t2=e.data[a],r.next=12,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e.data[a]._id).concat(L.b,"?").concat(L.p),"GET"));case 12:r.t3=r.sent.data,r.t4={comments:r.t3},s=(0,r.t0)(r.t1,r.t2,r.t4),t.push(s);case 16:a++,r.next=6;break;case 19:this.setState({topUsers:t});case 20:case"end":return r.stop()}},null,this)}},{key:"fetchLiveUsers",value:function(){var e,t,a,s,r,o;return c.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.awrap(Object(V.b)("".concat(L.u,"?countdown=").concat(this.state.countdown._id),"GET"));case 2:if(!(e=i.sent).success){i.next=33;break}t=[],a=0;case 6:if(!(a<e.data.length)){i.next=32;break}return i.next=9,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e.data[a].user),"GET"));case 9:if(!(s=i.sent).success){i.next=29;break}return i.t0=n.a,i.t1={},i.t2=s.data,i.next=16,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(s.data._id).concat(L.b,"?").concat(L.p),"GET"));case 16:return i.t3=i.sent.data,i.t4={comments:i.t3},r=(0,i.t0)(i.t1,i.t2,i.t4),i.t5=n.a,i.t6={},i.t7=e.data[a],i.t8=r,i.next=25,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(e.data[a]._id).concat(L.b,"?").concat(L.p),"GET"));case 25:i.t9=i.sent.data,i.t10={user:i.t8,comments:i.t9},o=(0,i.t5)(i.t6,i.t7,i.t10),t.push(o);case 29:a++,i.next=6;break;case 32:this.setState({requests:t});case 33:case"end":return i.stop()}},null,this)}},{key:"fetchComments",value:function(){this.fetchUserComments(),this.fetchCountdownComments(),this.fetchRequestComments()}},{key:"saveComments",value:function(e){var t,a;return c.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={},n.next=3,c.a.awrap(Object(V.a)());case 3:a=n.sent,e.category&&this.setState({commentType:e.category}),e.id&&this.setState({selectedId:e.id}),n.t0=this.state.commentType,n.next=n.t0===L.d?9:n.t0===L.u?15:n.t0===L.y?29:35;break;case 9:return n.next=11,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(this.state.selectedId).concat(L.b),"POST",{user:a,countdown:this.state.selectedId,text:e.message,parentId:e.parentId}));case 11:return t=n.sent,this.updateCountdownComments(),this.fetchTopCountdowns(),n.abrupt("break",36);case 15:return n.next=17,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(this.state.selectedId).concat(L.b),"POST",{user:a,request:this.state.selectedId,text:e.message,parentId:e.parentId}));case 17:return t=n.sent,this.updateWinnerComments(),n.t1=this,n.next=22,c.a.awrap(this.fetchReqeusts(L.t));case 22:return n.t2=n.sent,n.next=25,c.a.awrap(this.fetchReqeusts(L.r));case 25:return n.t3=n.sent,n.t4={worstRequests:n.t2,topRequests:n.t3},n.t1.setState.call(n.t1,n.t4),n.abrupt("break",36);case 29:return n.next=31,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(this.state.selectedId).concat(L.b),"POST",{user:a,winner:this.state.selectedId,text:e.message,parentId:e.parentId}));case 31:return t=n.sent,this.updateWinnerComments(),this.fetchLiveUsers(),n.abrupt("break",36);case 35:return n.abrupt("break",36);case 36:t.success?(x.NotificationManager.success("Your comment has been sent successfully!"),this.fetchComments()):x.NotificationManager.error(t.data.toString());case 37:case"end":return n.stop()}},null,this)}},{key:"newReqeustComment",value:function(e){return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.commentboxRef.current.scrollIntoView({behavior:"smooth",block:"start"}),t.next=3,c.a.awrap(this.setState({selectedId:e,commentType:L.u}));case 3:return t.next=5,c.a.awrap(this.fetchComments());case 5:case"end":return t.stop()}},null,this)}},{key:"newCountdownComment",value:function(e){return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.commentboxRef.current.scrollIntoView({behavior:"smooth",block:"start"}),t.next=3,c.a.awrap(this.setState({selectedId:e,commentType:L.d}));case 3:this.fetchComments();case 4:case"end":return t.stop()}},null,this)}},{key:"newUserComment",value:function(e){return c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.commentboxRef.current.scrollIntoView({behavior:"smooth",block:"start"}),t.next=3,c.a.awrap(this.setState({selectedId:e,commentType:L.y}));case 3:return t.next=5,c.a.awrap(this.fetchComments());case 5:case"end":return t.stop()}},null,this)}},{key:"updateWinnerComments",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.state.winner,a.t0=n.a,a.t1={},a.t2=e,a.next=6,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e._id).concat(L.b,"?").concat(L.p),"GET"));case 6:return a.t3=a.sent.data,a.t4={comments:a.t3},e=(0,a.t0)(a.t1,a.t2,a.t4),t=this.state.winnerRequest,a.t5=n.a,a.t6={},a.t7=this.state.winnerRequest,a.next=15,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(t._id).concat(L.b,"?").concat(L.p),"GET"));case 15:a.t8=a.sent.data,a.t9={comments:a.t8},t=(0,a.t5)(a.t6,a.t7,a.t9),this.setState({winnerRequest:t,winner:e});case 19:case"end":return a.stop()}},null,this)}},{key:"updateCountdownComments",value:function(){var e,t;return c.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(this.state.countdown._id).concat(L.b,"?").concat(L.p),"GET"));case 2:(e=a.sent).success&&(t=this.state.countdown,t=Object(n.a)({},t,{comments:e.data}),this.setState({countdown:t}));case 4:case"end":return a.stop()}},null,this)}},{key:"fetchReqeusts",value:function(e){var t,a,n,s,r,o;return c.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.awrap(Object(V.b)("".concat(L.u,"?").concat(e),"GET"));case 2:if(t=i.sent,a=[],!t.success){i.next=19;break}n=0;case 6:if(!(n<t.data.length)){i.next=19;break}return s=t.data[n],i.next=10,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(t.data[n].user),"GET"));case 10:return r=i.sent,i.next=13,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(t.data[n]._id).concat(L.b,"?").concat(L.p),"GET"));case 13:o=i.sent,r.success&&o.success&&(s.user=r.data,s.comments=o.data),a.push(s);case 16:n++,i.next=6;break;case 19:return i.abrupt("return",a);case 20:case"end":return i.stop()}})}},{key:"refreshTopRequests",value:function(){return c.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,c.a.awrap(this.fetchReqeusts(L.r));case 3:e.t1=e.sent,e.t2={topRequests:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},null,this)}},{key:"refreshWorstRequests",value:function(){return c.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,c.a.awrap(this.fetchReqeusts(L.t));case 3:e.t1=e.sent,e.t2={worstRequests:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},null,this)}},{key:"sortComments",value:function(e){for(var t,a=function e(t,a){a.forEach(function(a){var n=a;"undefined"===typeof n.reply&&(n.reply=[]),n._id!==t.parentId?n.reply.length>0&&e(t,n.reply):n.reply.push(t)})},n=[],s=0;s<e.length;s++){(t=e[s]).reply=[],t.parentId?a(t,n):(n.push(t),n.sort(function(e,t){return t.likes-e.likes}))}return n}},{key:"fetchCountdownComments",value:function(){var e,t,a,n,s,r;return c.a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,c.a.awrap(Object(V.b)("".concat(L.d,"/").concat(this.state.countdown._id).concat(L.b),"GET"));case 2:if(e=o.sent,t=[],!(e.success&&e.data.length>0)){o.next=18;break}a=[],n=0;case 7:if(!(n<e.data.length)){o.next=17;break}return s=e.data[n],o.next=11,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e.data[n].user),"GET"));case 11:(r=o.sent).success&&(s.user=r.data),a.push(s);case 14:n++,o.next=7;break;case 17:t.push({countdown:this.state.countdown,comments:this.sortComments(a)});case 18:this.setState({countdownComments:t}),this.setState({countdownComments:t});case 20:case"end":return o.stop()}},null,this)}},{key:"fetchRequestComments",value:function(){var e,t,a,n,s,r,o,i,l,m;return c.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,c.a.awrap(Object(V.b)("".concat(L.u,"?").concat(L.q,"=").concat(this.state.countdown._id),"GET"));case 2:if(e=u.sent,t=[],!e.success){u.next=32;break}a=0;case 6:if(!(a<e.data.length)){u.next=32;break}return u.next=9,c.a.awrap(Object(V.b)("".concat(L.u,"/").concat(e.data[a]._id).concat(L.b),"GET"));case 9:if(!((n=u.sent).success&&n.data.length>0)){u.next=29;break}s=[],r=0;case 13:if(!(r<n.data.length)){u.next=23;break}return o=n.data[r],u.next=17,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(n.data[r].user),"GET"));case 17:(i=u.sent).success&&(o.user=i.data),s.push(o);case 20:r++,u.next=13;break;case 23:return u.next=25,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e.data[a].user),"GET"));case 25:l=u.sent,m=e.data[a],l.success&&(m.user=l.data),t.push({request:m,comments:this.sortComments(s)});case 29:a++,u.next=6;break;case 32:this.setState({requestComments:t}),this.setState({requestComments:t});case 34:case"end":return u.stop()}},null,this)}},{key:"fetchUserComments",value:function(){var e,t,a,n,s,r,o,i,l;return c.a.async(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,c.a.awrap(Object(V.b)("".concat(L.u,"?").concat(L.q,"=").concat(this.state.countdown._id),"GET"));case 2:if(e=m.sent,t=[],!e.success){m.next=30;break}a=0;case 6:if(!(a<e.data.length)){m.next=30;break}return m.next=9,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e.data[a].user).concat(L.b),"GET"));case 9:if(!((n=m.sent).success&&n.data.length>0)){m.next=27;break}s=[],r=0;case 13:if(!(r<n.data.length)){m.next=23;break}return o=n.data[r],m.next=17,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(n.data[r].user),"GET"));case 17:(i=m.sent).success&&(o.user=i.data),s.push(o);case 20:r++,m.next=13;break;case 23:return m.next=25,c.a.awrap(Object(V.b)("".concat(L.y,"/").concat(e.data[a].user),"GET"));case 25:(l=m.sent).success&&t.push({user:l.data,comments:this.sortComments(s)});case 27:a++,m.next=6;break;case 30:this.setState({userComments:t}),this.setState({userComments:t});case 32:case"end":return m.stop()}},null,this)}},{key:"render",value:function(){var e=this.state,t=e.requests,a=e.countdown,n=e.countdownComments,s=e.userComments,c=e.requestComments,r=e.worstRequests,o=e.topRequests,i=e.topUsers,l=e.topCountdowns,m=e.winner,u=e.winnerRequest,d=e.inProgress,h=e.currentTime,x=e.simpleMode,g=e.pendingStatus;return p.a.createElement(p.a.Fragment,null,p.a.createElement(E.a,null),p.a.createElement(f.a,{className:"main-panel p-4"},x?"":p.a.createElement(b.a,{md:"3",sm:"12",className:"scroll-bar p-3"},p.a.createElement(P,{title:"Top Countdowns",countdowns:l,onUpdated:this.fetchTopCountdowns}),p.a.createElement(M,{title:"Top Requests",requests:o,onUpdated:this.refreshTopRequests}),p.a.createElement(Y,{users:i,title:"Top Users",onUpdated:this.fetchTopUsers})),p.a.createElement(b.a,{md:x?10:6,sm:12,className:x?"m-auto":""},p.a.createElement(f.a,{className:"justify-content-center pt-3"},p.a.createElement(b.a,{lg:12,md:12,xs:12},p.a.createElement(Oe,null)),p.a.createElement(b.a,{lg:12,md:12,xs:12,className:"text-center"},p.a.createElement("div",{ref:this.countdownRef},p.a.createElement(we,{countdown:a,currentTime:h,requests:t,pending:g,onUpdated:this.fetchCurrentCountdown,onNewComment:this.newCountdownComment})),g?"":p.a.createElement(f.a,{className:"shadow-xss rounded-xxl card p-4 mt-3"},p.a.createElement(b.a,{md:12},p.a.createElement("h4",{className:this.state.inProgress?"text-success mb-0 ft-25 fw-600":"text-success mb-0 ft-55 fw-600"},this.state.inProgress?"Possible Winner":"Winner"),p.a.createElement(X,{user:m,isDone:!d,request:u,onNewRequestComment:this.newReqeustComment,onNewUserComment:this.newUserComment}))),p.a.createElement(f.a,{className:"shadow-xss rounded-xxl card mt-3"},p.a.createElement(b.a,{md:12},p.a.createElement("div",{ref:this.commentboxRef},p.a.createElement(de,{id:a._id,countdownComments:n,userComments:s,requestComments:c,requests:t,winner:m,winnerRequest:u,onSave:this.saveComments,onUpdated:this.fetchComments}))))))),x?"":p.a.createElement(b.a,{md:"3",sm:"12",className:"p-3"},p.a.createElement(F,{requests:t,title:"Live Users",onUpdated:this.fetchLiveUsers,onNewComment:this.newUserComment}),p.a.createElement(M,{title:"Worst Requests",requests:r,onUpdated:this.refreshWorstRequests}))))}}]),t}(d.Component);t.default=Object(h.withRouter)(Object(g.b)(function(e){return Object(n.a)({},e,{isPending:e.getIn(["statusReducer","pending"]),isSimpleMode:e.getIn(["modeReducer","simpleMode"])})},function(e){return{setPendingStatus:Object(w.a)(he,e),setSimpleMode:Object(w.a)(fe.a,e)}})(qe))}}]);
//# sourceMappingURL=18.e18c4c2a.chunk.js.map